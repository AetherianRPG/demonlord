<div class="demonlord" {{#if actor._id}}data-actor-id="{{actor._id}}" {{/if}}
    {{#if item._id}}data-item-id="{{item._id}}" {{/if}} {{#if tokenId}}data-token-id="{{tokenId}}" {{/if}}>
    {{#if data.attack.value}}
    <header class="card-header">
        <div class="spell-img"></div>
        <div class="attackbox">
            <div class="header">{{localize "DL.SpellRollText"}}</div>
            <div class="headertext">{{item.name}}</div>
        </div>
        <div class="targetbox">
            <div class="header">{{localize "DL.TargetRollText"}}</div>
            <div class="targetname">{{data.tagetname.value}}</div>
        </div>
    </header>
    {{else}}
    <header class="card-headersmall">
        <div class="spell-img"></div>
        <div class="attackbox">
            <div class="header">{{localize "DL.SpellRollText"}}</div>
            <div class="headertext">{{item.name}}</div>
        </div>
    </header>
    {{/if}}
    {{#if data.attack.value}}
    <div class="result">
        <div class="box {{data.resultText.value}}">
            <div class="valuetext">{{data.attack.value}}</div>
            <div class="boxborder tooltip">
                <div class="value">{{data.diceTotal.value}}</div>
                <span class="tooltiptext">{{data.diceResult.value}}</span>
            </div>
        </div>
        <div class="boxvs">
            <div class="vs">{{localize "DL.ChallengeVS"}}</div>
        </div>
        <div class="box {{data.resultText.value}}">
            <div class="valuetext">{{data.against.value}}</div>
            <div class="boxborderTarget">
                <div class="value">
                    {{data.againstNumber.value}}
                </div>
            </div>
        </div>
    </div>
    {{/if}}
    {{#if data.description.value}}
    {{#if data.isCreature.value}}
    <div class="description" style="visibility : hidden; height: 0;">
        {{else}}
        <div class="description">
            {{/if}}
            <div class="header">{{localize "DL.SpellRollDescription"}}</div>
            <div class="body">{{{data.description.value}}}</div>
        </div>
        {{/if}}
        {{#if data.defense.value}}
        <div class="roll20">
            <div class="header">{{localize "DL.SpellTypeDefense"}}</div>
            <div class="body">{{localize "DL.ChallengeRoll"}}: {{data.defense.value}}
                {{#if data.defenseboonsbanes.value}}({{data.defenseboonsbanes.value}}){{/if}}
            </div>
        </div>
        {{/if}}
        {{#if data.effectdice.value}}
        <div class="roll20">
            <div class="header">{{localize "DL.SpellEffectDice"}}</div>
            <div class="body">{{localize "DL.SpellEffectDiceResult"}} {{data.effectdice.value}}</div>
        </div>
        {{/if}}
        {{#if data.plus20text.value}}
        <div class="roll20">
            <div class="header">{{localize "DL.SpellRollPlus20"}}</div>
            <div class="body">{{data.plus20text.value}}</div>
        </div>
        {{/if}}
        {{#if data.spelltarget.value}}
        <div class="roll20">
            <div class="header">{{localize "DL.SpellRollTarget"}}</div>
            <div class="body">{{data.spelltarget.value}}</div>
        </div>
        {{/if}}
        {{#if data.spellarea.value}}
        <div class="roll20">
            <div class="header">{{localize "DL.SpellRollArea"}}</div>
            <div class="body">{{data.spellarea.value}}</div>
        </div>
        {{/if}}
        {{#if data.spellduration.value}}
        <div class="roll20">
            <div class="header">{{localize "DL.SpellRollDuration"}}</div>
            <div class="body">{{data.spellduration.value}}</div>
        </div>
        {{/if}}
        {{#if data.spellrequirements.value}}
        <div class="roll20">
            <div class="header">{{localize "DL.SpellRollRequirements"}}</div>
            <div class="body">{{data.spellrequirements.value}}</div>
        </div>
        {{/if}}
        {{#if data.spellsacrifice.value}}
        <div class="roll20">
            <div class="header">{{localize "DL.SpellRollSacrifice"}}</div>
            <div class="body">{{data.spellsacrifice.value}}</div>
        </div>
        {{/if}}
        {{#if data.spellpermanence.value}}
        <div class="roll20">
            <div class="header">{{localize "DL.SpellRollPermanence"}}</div>
            <div class="body">{{data.spellpermanence.value}}</div>
        </div>
        {{/if}}
        {{#if data.spellspecial.value}}
        <div class="roll20">
            <div class="header">{{localize "DL.SpellRollSpecial"}}</div>
            <div class="body">{{data.spellspecial.value}}</div>
        </div>
        {{/if}}
        {{#if data.spelltriggered.value}}
        <div class="roll20">
            <div class="header">{{localize "DL.SpellRollTriggered"}}</div>
            <div class="body">{{data.spelltriggered.value}}</div>
        </div>
        {{/if}}
        <div class="gmonly">
            {{#if data.challStrength.value}}
            <div class="challengeaction request-challengeroll">
                <div class="header" data-attribute="{{localize 'DL.AttributeStrength'}}"
                    data-boba="{{data.defenseboonsbanes.value}}">
                    <div class="challenge-img"></div>
                    <div>{{localize "DL.ChallengeRoll"}}: {{localize "DL.AttributeStrength"}}
                        {{#if data.defenseboonsbanes.value}}({{data.defenseboonsbanes.value}}){{/if}}
                    </div>
                </div>
            </div>
            {{/if}}
            {{#if data.challAgility.value}}
            <div class="challengeaction request-challengeroll">
                <div class="header" data-attribute="{{localize 'DL.AttributeAgility'}}"
                    data-boba="{{data.defenseboonsbanes.value}}">
                    <div class="challenge-img"></div>
                    <div>{{localize "DL.ChallengeRoll"}}: {{localize "DL.AttributeAgility"}}
                        {{#if data.defenseboonsbanes.value}}({{data.defenseboonsbanes.value}}){{/if}}
                    </div>
                </div>
            </div>
            {{/if}}
            {{#if data.challIntellect.value}}
            <div class="challengeaction request-challengeroll">
                <div class="header" data-attribute="{{localize 'DL.AttributeIntellect'}}"
                    data-boba="{{data.defenseboonsbanes.value}}">
                    <div class="challenge-img"></div>
                    <div>{{localize "DL.ChallengeRoll"}}: {{localize "DL.AttributeIntellect"}}
                        {{#if data.defenseboonsbanes.value}}({{data.defenseboonsbanes.value}}){{/if}}
                    </div>
                </div>
            </div>
            {{/if}}
            {{#if data.challWill.value}}
            <div class="challengeaction request-challengeroll">
                <div class="header" data-attribute="{{localize 'DL.AttributeWill'}}"
                    data-boba="{{data.defenseboonsbanes.value}}">
                    <div class="challenge-img"></div>
                    <div>{{localize "DL.ChallengeRoll"}}: {{localize "DL.AttributeWill"}}
                        {{#if data.defenseboonsbanes.value}}({{data.defenseboonsbanes.value}}){{/if}}
                    </div>
                </div>
            </div>
            {{/if}}
            {{#if data.challPerception.value}}
            <div class="challengeaction request-challengeroll">
                <div class="header" data-attribute="{{localize 'DL.CharPerception'}}"
                    data-boba="{{data.defenseboonsbanes.value}}">
                    <div class="challenge-img"></div>
                    <div>{{localize "DL.ChallengeRoll"}}: {{localize "DL.CharPerception"}}
                        {{#if data.defenseboonsbanes.value}}({{data.defenseboonsbanes.value}}){{/if}}
                    </div>
                </div>
            </div>
            {{/if}}
        </div>
        <div class="combatactions roll-damage">
            <div class="header" data-item-id="{{data.id.value}}" data-damage="{{data.damageFormular.value}}">
                <img src="systems/demonlord/css/items/damage.png" width="15" height="15" />
                <div>{{localize "DL.DialogTalentRollDamage"}} ({{data.damageFormular.value}})</div>
            </div>
        </div>
        {{#if data.damageExtraFormular.value}}
        <div class="combatactions roll-damage">
            <div class="header" data-item-id="{{data.id.value}}" data-damage="{{data.damageExtraFormular.value}}">
                <img src="systems/demonlord/css/items/damage.png" width="15" height="15" />
                <div>{{localize "DL.DialogTalentRollExtraDamage"}} ({{data.damageExtraFormular.value}})</div>
            </div>
        </div>
        {{/if}}
    </div>